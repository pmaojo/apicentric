twin:
  name: flow-meter
  physics:
    - variable: flow_rate_lpm
      strategy: sine
      params:
        min: 200.0
        max: 250.0
    - variable: total_volume
      strategy: script
      params:
        code: |
          // Simple accumulator simulation
          // In a real scenario this would use state
          return 1000.0;
  transports:
    - type: mqtt
      params:
        broker_url: localhost
        port: 1883
        topic_prefix: pipeline/flow
    - type: http
      params:
        port: 8092
